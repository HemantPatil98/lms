<!DOCTYPE html>
<html>
{%load static%}
<head>
	<title>Videos</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- <link rel="stylesheet" type="text/css" href="videos.css"> -->
	<!-- <script type="text/javascript" src="videos.js"></script> -->
	<script type="text/javascript"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

	<link rel="stylesheet" type="text/css" href="{%static 'dashboard.css'%}">
	<link rel="stylesheet" type="text/css" href="{%static 'video.css'%}">

	<link rel="stylesheet" type="text/css" href="{%static 'progress.css'%}">

	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

<script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
	<!-- <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script> -->
	<!-- <script src="{%static '/js/jquery-2.1.1.min.js'%}"></script> -->
	<!-- <script type="text/javascript" src="{%static 'video.js'%}"> </script> -->
	
	<!-- <script type="text/javascript" src="{%static 'dashboard.js' %}"></script> -->

	
</head>
<body style="background-color: #eee;overflow: hidden;">

	<header>
		<img src="http://www.fortunecloudindia.com/images/logo/logon.png" alt="" class="logo">
		<hr style="height: 3px;width: 100%;color: blue;">
	</header>

	<script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>

<div class="row main" style="overflow: hidden;">

	<div class="col-sm-12 col-md-2 menu" style="position:fixed;background-color: #75a8dc!important;padding-left: 0px;padding-right: 0px;overflow: auto;">
			<nav class="navbar navbar-expand-lg navbar-light bg-light" style="overflow: auto;">
			  <a class="navbar-brand hide" href="{url 'dashboard'}" style="font-size: 25px;">
			  	<img src="http://www.fortunecloudindia.com/images/logo/logon.png" alt="" class="logo logo-nav">
			  </a>
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
			    <span class="navbar-toggler-icon"></span>
			  </button>
			  <div class="collapse navbar-collapse" id="navbarNavDropdown" style="padding-bottom: 50px;background-color: #75a8dc!important;">
				    <ul class="navbar-nav">
				    <span class="navbar-brand" href="#">&nbspEDGE</span>
				      <li class="nav-item {%if subject == 'c'%} select {%endif%}">
				        <a class="nav-link" {%if allowcourse.c %} data=c {%endif%}>C language</a>
				      </li>
				      <li class="nav-item {%if subject == 'sql'%} select {%endif%}" >
				        <a class="nav-link" href="#" {%if allowcourse.sql %} data=sql {%endif%}>SQL/Plsql</a>
				      </li>
				      <li class="nav-item {%if subject == 'html'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.html %} data=html {%endif%}>HTML 5</a>
				      </li>
				      <li class="nav-item {%if subject == 'css'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.css %} data=css {%endif%}>CSS 3</a>
				      </li>
				      <li class="nav-item {%if subject == 'bootstrap'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.bootstrap %} data=bootstrap {%endif%}>Bootstrap</a>
				      </li>
				      <li class="nav-item {%if subject == 'javascript'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.javascript %} data=javascript {%endif%}>JavaScript</a>
				      </li>
				      <li class="nav-item {%if subject == 'jquery'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.jquery %} data=jquery {%endif%}>JQuery</a>
				      </li>
				      <span class="navbar-brand">&nbspYour Domain</span>
				      {%if st.python%}
				      <li class="nav-item {%if subject == 'python'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.python %} data=python {%endif%}>Python</a>
				      </li>
				      {%endif%}
				      {%if st.flask%}
				      <li class="nav-item {%if subject == 'flask'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.flask %} data=flask {%endif%}>Testing</a>
				      </li>
				      {%endif%}
				      {%if st.django%}
				      <li class="nav-item {%if subject == 'django'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.django %} data=django {%endif%}>Testing</a>
				      </li>
				      {%endif%}
				      {%if st.php%}
				      <li class="nav-item {%if subject == 'php'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.php %} data=php {%endif%}>PHP</a>
				      </li>
				      {%endif%}
				      {%if st.java%}
				      <li class="nav-item {%if subject == 'java'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.java %} data=java {%endif%}>Java</a>
				      </li>
				      {%endif%}
				      {%if st.testing%}
				      <li class="nav-item {%if subject == 'testing'%} select {%endif%}">
				        <a class="nav-link" href="#" {%if allowcourse.testing %} data=testing {%endif%}>Testing</a>
				      </li>
				      {%endif%}
				      <li class="nav-item" style="padding: 10px;text-align: center;margin-bottom: 10px;margin-top: 10px;">
				        <a class="logout" href="{%url 'logout'%}">Log Out</a>
				      </li>
				    </ul>
			  	</div>
			</nav>
	</div>
	
	<div id="alert" class="alert alert-info hide" role="alert" style="height: max-content;padding: 0px;z-index: 4;position: absolute;height: max-content;width: 600px;margin-left: 30%;">
			Notes download will be available after 100% completion of video course			
	</div>
	<div class="col-sm-12 col-md-10 pannel" style="margin-top: 0px;">
		<div class="row up_title" style="position: unset;">
			<div id="title" class="col-sm-12 col-md-8">{{vidlist.0}}</div>
				<div class="col-sm-12 col-md-4">
					<div class="row" style="padding: 0px;position: unset;">
						<div id="progress" class="col-8">
							<div class="progress blue" style="margin:0px;" >
				                <div id="progress-bar" class="progress-bar progress-bar-info progress-bar-striped active" style="width:{%if per < 20%}20{%else%}{{per}}{%endif%}%;" >Download
				                    <div id="progress-value" class="progress-value">{{per}}%</div>
				                </div>
							</div>
						</div>
						<div class="col-4">
							<a id="notes" href="{{notes}}" class="btn btn-primary" style="height:45px%;margin: 0px;">
								<i class="fas fa-download" style="font-size: 15px;" title="Notes download will be available after 100% completion of video course">
								</i> Notes
							</a>
						</div>
					</div>
				</div>
			</div>
		
		<div class="row container" style="position: fixed;">

			<div class="col-sm-12 col-md-8 pad0" style="height: max-content">
				<div id="replay" class="replay hide"  style="">
					<i class="fas fa-play-circle" style=""></i>
				</div>

				<div id="video"  style="background-color: #919395;"><!-- #545190b8; -->
					<iframe src="/videoframe/1-C-Introduction/" width="100%" height="100%"></iframe>
				</div>
			</div>

			<main class="col-sm-12 col-md-4">
				{% for item in vidlist %}
				<article class="item" {%if not requst.user.username%} data-key="{{item}}"{%endif%}>

	                                <!-- <img src="{{item}}" alt="" class="thumb"> -->
	                                <video class="thumb">
										<source src="/static/media/C_Videos/{{item}}" type="video/mp4">
									</video>
	                                <div class="details">
	                                    <span class='title'>{{item}}</span>
	                                    
	                                </div>

	                            </article>
				{%endfor%}

			</main>
			
		</div>	
	</div>
</div>


<style type="text/css">

</style>
<iframe id="backend" src="" style="display: none;"></iframe>
<div id="status" style="display: none;">{{status}}</div>
<div id="course" style="display: none;">{{course}}</div>
<div id="lenth" style="display: none;">{{lenth}}</div>
<div id="list" style="display: none;">{{list}}</div>
<div id="subject" style="display: none;">{{subject}}</div>

<style type="text/css">

</style>

<script type="text/javascript">
	// var playlistId = '{{PlaylistId}}';

	$("article").click(function(){
		// alert($(this).children("div").children("span").text());
		// $(this).children("div").children("span").hide();
		var link="/static/media/C_Videos/"+$(this).children("div").children("span").text();
		$("iframe").attr("src",link)
		$("#title").text($(this).children("div").children("span").text());
	});



	var count;
	var wached;
	$(document).ready(function() {
		var status = $("#status").text();
		var course = $("#course").text();
		wached = $('#lenth').text();

	})
	progress();
	function progress()
	{
		var count=$("article").length;
		var per = ($('#lenth').text()/count)*100;
        // console.log(per);
        
        $('article').each(function(){
        	var id = $(this).attr("data-key").split('.')[0];
        	// console.log(id);
        	if ($("#list").text().search(id)>0) {
        		console.log($(this).attr("data-key"));
        		$(this).addClass("watched");
        		$(this).attr("title","Watched Video");
        	}
        });

        $("article").click(function(){
        	$(this).addClass("watched");
        });
	}

	$("#notes").click(function(){
    	$("#alert").show();
    	setTimeout(function(){ $("#alert").hide(); }, 3000);
    });


	$(".nav-link").click(function(){
		// if($(this).attr('data'))
	  	if($(this).attr('data')){
	  		var data=$(this).attr('data');
	  		var link="/video/"+data;
	  		console.log(link);
	  		location.replace(link);
	  	}
	  	else{
	  		alert("This module is locked");
	  	}
	  });

		$(window).load(function(){
		// alert($(window).width());
		if ($(window).width()<600) {
			$(".logo-nav").parent().removeClass("hide");
			$('.logout').addClass('hide');
			// $('.navbar-brand').css({'background-color':'white'});
		}
		else{
			$('.logout').removeClass('hide');
		}
	  });
	$(window).resize(function(){
		// alert($(window).width());
		if ($(window).width()<600) {
			$(".logo-nav").parent().removeClass("hide");
			$('.logout').addClass('hide');
		}
		else{
			$(".logo-nav").parent().addClass("hide");
			$('.logout').removeClass('hide');
		}
	  });

	 $(".navbar-toggler").click(function(){
	  	$("#navbarNavDropdown").toggleClass("collapse");
	  });
	 
	// $('article').each(function(){
		// if ($("#list").text().search($(this).attr("data-key"))>0) {
			// console.log($(this).attr("data-key"));
			// $(this).addClass("disabled");
			// $(this).addClass("watched");
			// $(this).attr("title","Watched Video");
		// }
	// });

$('main').on('click', 'article', function () {
  if (!$(this).hasClass('disabled')) {

    var id = $(this).attr('data-key');
    // player.loadVideoById(id,0, "large");
    $('#replay').addClass("hide");
    // player.stopVideo();
    $('#replay').addClass("hide");
    var title = $(this).find("div .title").text();
    $("#title").text(title);
    var subject = $("#subject").text();
    var link="/vviews/"+subject+"/"+id.split('.')[0]+"/";
    console.log(link);
    document.getElementById("backend").setAttribute("src", link);

  }
  else{
    alert("Video is locked");
  }
});
</script>

</body>    
</html>



